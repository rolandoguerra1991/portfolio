---
import '../styles/global.css';
import { getCollection } from 'astro:content';

const projects = (await getCollection('projects'))
    .map((entry: { id: any; data: any; }) => ({
        id: entry.id,
        ...entry.data,
    }))
    .sort((a: { order: any; }, b: { order: any; }) => (a.order ?? 999) - (b.order ?? 999));
---

<html lang="en" class="page-root">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Rolando Guerra | Frontend Developer</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	</head>
    <body class="page">

    <!-- Navbar -->
    <nav class="site-nav">
        <div class="page__container site-nav__inner">
            <div class="site-nav__brand">Rolando Guerra</div>
            <div class="site-nav__links">
                <a href="#home" class="site-nav__link">Home</a>
                <a href="#stack" class="site-nav__link">Stack</a>
                <a href="#projects" class="site-nav__link">Projects</a>
                <a href="#experience" class="site-nav__link">Experience</a>
                <a href="#contact" class="site-nav__link">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="page__container hero__inner">

            <!-- Profile Image Container -->
            <div class="reveal hero__profile" style="transition-delay: 0.1s;">
                <div class="hero__profile-ring">
                    <div class="hero__profile-frame">
                        <!-- Replace the src with your actual image path -->
                        <img src="/portfolio/photo.png" alt="Rolando Guerra" class="hero__profile-image">
                    </div>
                </div>
                <!-- Badge (Optional) -->
                <div class="hero__profile-badge">
                    Available
                </div>
            </div>

            <h1 class="reveal hero__title">
                Crafting high-end <br><span class="hero__title-accent">web experiences</span>
            </h1>
            <p class="reveal hero__subtitle" style="transition-delay: 0.2s;">
                I am a frontend web developer with experience in creating reusable components using the Atomic Design methodology.
            </p>
            <div class="reveal hero__actions" style="transition-delay: 0.4s;">
                <a href="#projects" class="hero__button hero__button--primary">View Projects</a>
                <a href="https://www.linkedin.com/in/rolando-guerra-84a5ba117/" target="_blank" class="hero__button hero__button--ghost">LinkedIn</a>
            </div>
        </div>
    </section>

    <!-- Tools Section -->
    <section id="stack" class="stack">
        <div class="page__container">
            <div class="stack__header">
                <h2 class="reveal stack__title">Full Stack & Tools</h2>
                <div class="reveal stack__divider"></div>
            </div>

            <div class="stack__grid">
                <div class="reveal stack__card" style="transition-delay: 0.1s;">
                    <i class="stack__icon stack__icon--blue fab fa-js-square"></i>
                    <h3 class="stack__label">TypeScript</h3>
                    <p class="stack__hint">Robust Code</p>
                </div>
                <div class="reveal stack__card" style="transition-delay: 0.2s;">
                    <div class="stack__icon stack__icon--mono stack__icon--emerald-soft">N</div>
                    <h3 class="stack__label">Nuxt.js</h3>
                    <p class="stack__hint">Framework</p>
                </div>
                <div class="reveal stack__card" style="transition-delay: 0.3s;">
                    <i class="stack__icon stack__icon--emerald fab fa-vuejs"></i>
                    <h3 class="stack__label">Vue.js</h3>
                    <p class="stack__hint">UI Library</p>
                </div>
                <div class="reveal stack__card" style="transition-delay: 0.4s;">
                    <i class="stack__icon stack__icon--sky fas fa-wind"></i>
                    <h3 class="stack__label">Tailwind</h3>
                    <p class="stack__hint">Atomic CSS</p>
                </div>
                <div class="reveal stack__card" style="transition-delay: 0.5s;">
                    <i class="stack__icon stack__icon--yellow fas fa-bolt"></i>
                    <h3 class="stack__label">Vite</h3>
                    <p class="stack__hint">Fast Build</p>
                </div>
                <div class="reveal stack__card" style="transition-delay: 0.6s;">
                    <i class="stack__icon stack__icon--lime fas fa-vial"></i>
                    <h3 class="stack__label">Vitest</h3>
                    <p class="stack__hint">Testing</p>
                </div>
                <div class="reveal stack__card" style="transition-delay: 0.7s;">
                    <i class="stack__icon stack__icon--orange fab fa-git-alt"></i>
                    <h3 class="stack__label">Git</h3>
                    <p class="stack__hint">Version Control</p>
                </div>
                <div class="reveal stack__card" style="transition-delay: 0.8s;">
                    <i class="stack__icon stack__icon--green fab fa-node-js"></i>
                    <h3 class="stack__label">Node.js</h3>
                    <p class="stack__hint">Runtime</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="projects">
        <div class="page__container">
            <div class="projects__header">
                <h2 class="reveal projects__title">Featured Projects</h2>
                <div class="reveal projects__divider"></div>
            </div>

            <div class="projects__grid">
                {projects.map((project: { icon: any; link: string | URL | null | undefined; title: unknown; description: unknown; tags: unknown[]; }, index: number) => (
                    <div
                        class="reveal projects__card"
                        style={`transition-delay: ${0.1 + index * 0.1}s;`}
                    >
                        <div class="projects__media">
                            <div class="projects__media-icon">
                                <i class={project.icon ?? 'fas fa-code'}></i>
                            </div>
                        </div>
                        <div class="projects__body">
                            <h3 class="projects__name">
                                {project.link ? (
                                    <a href={project.link} target="_blank" rel="noreferrer" class="projects__link">
                                        {project.title}
                                    </a>
                                ) : (
                                    project.title
                                )}
                            </h3>
                            <p class="projects__description">{project.description}</p>
                            {project.tags?.length ? (
                                <div class="projects__tags">
                                    {project.tags.map((tag: unknown) => (
                                        <span class="projects__tag">
                                            {tag}
                                        </span>
                                    ))}
                                </div>
                            ) : null}
                        </div>
                    </div>
                ))}
            </div>
        </div>
    </section>

    <!-- Experience Section -->
    <section id="experience" class="experience">
        <div class="page__container experience__container">
            <div class="experience__header">
                <h2 class="reveal experience__title">Professional Experience</h2>
                <div class="reveal experience__divider"></div>
            </div>

            <div class="experience__timeline">
                <!-- Software Engineer - 8020REI -->
                <div class="reveal experience__item" style="transition-delay: 0.1s;">
                    <span class="experience__date">Jan 2023 - Feb 2026</span>
                    <h3 class="experience__role">Software Engineer</h3>
                    <p class="experience__company">8020REI • Full-time • Remote (USA)</p>
                    <p class="experience__summary">Developed core frontend solutions using Nuxt, Vue, and TypeScript, leveraging Atomic Design for high-quality reusable components.</p>
                    <p class="experience__detail">Took ownership of the frontend development for key tools, significantly enhancing user experience and platform interface consistency.</p>
                </div>

                <!-- Web Developer - 4casters -->
                <div class="reveal experience__item" style="transition-delay: 0.2s;">
                    <span class="experience__date">Dec 2020 - Jan 2023</span>
                    <h3 class="experience__role">Web Developer</h3>
                    <p class="experience__company">4casters • Freelance</p>
                    <p class="experience__detail">MEVN stack development (MongoDB, Express, Vue.js, Node.js), utilizing Bootstrap and modern frontend practices.</p>
                </div>

                <!-- Web Developer - Grupo Hostienda -->
                <div class="reveal experience__item" style="transition-delay: 0.3s;">
                    <span class="experience__date">Sep 2018 - Jan 2023</span>
                    <h3 class="experience__role">Web Developer</h3>
                    <p class="experience__company">Grupo Hostienda • Spain</p>
                    <p class="experience__detail">Fullstack development focused on PHP (Laravel) and Vue.js for enterprise-level web applications.</p>
                </div>

                <!-- Web Developer - PinttoSoft -->
                <div class="reveal experience__item" style="transition-delay: 0.4s;">
                    <span class="experience__date">Feb 2018 - Sep 2018</span>
                    <h3 class="experience__role">Web Developer</h3>
                    <p class="experience__company">PinttoSoft • Venezuela</p>
                    <p class="experience__detail">Frontend and backend tasks using Laravel and Bootstrap for various client projects.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact" class="site-footer">
        <div class="page__container site-footer__inner">
            <h2 class="reveal site-footer__title">Let's work together</h2>
            <p class="reveal site-footer__subtitle">I'm currently available for new opportunities and collaborations.</p>
            <div class="site-footer__links">
                <a href="https://github.com/rolandoguerra1991" target="_blank" class="site-footer__link" title="GitHub">
                    <i class="fab fa-github"></i>
                </a>
                <a href="https://www.linkedin.com/in/rolando-guerra-84a5ba117/" target="_blank" class="site-footer__link" title="LinkedIn">
                    <i class="fab fa-linkedin"></i>
                </a>
            </div>
            <p class="site-footer__legal">© 2026 Rolando Guerra.</p>
        </div>
    </footer>

    <script>
        function reveal() {
            const reveals = document.querySelectorAll(".reveal");
            reveals.forEach(el => {
                const windowHeight = window.innerHeight;
                const elementTop = el.getBoundingClientRect().top;
                const elementVisible = 80;
                if (elementTop < windowHeight - elementVisible) {
                    el.classList.add("reveal--active");
                }
            });
        }
        window.addEventListener("scroll", reveal);
        document.addEventListener("DOMContentLoaded", () => setTimeout(reveal, 100));
    </script>
</body>
</html>
